(function(){function e(e,t){var n=t||[];return function t(){var i={};var s=Object.create(Object.assign({},e,{_onChange:function(e){var t=i[e]||[];t.forEach(function(e){e()})},on:function(e,t){var n=i[e]||[];n.push(t);i[e]=n;return this}}));n.forEach(function(e){var t;Object.defineProperty(s,e,{get:function(){return t},set:function(n){t=n;this._onChange(e)}})});return s}}var t={addItem:function(e){this.items.push(e);return this}};var n={toggle:function(){this.accordion.toggleItem(this)}};var i=Object.assign({toggleItem:function(e){if(this.items.indexOf(e)!==-1){this.items.forEach(function(t){if(t===e){t.isOpen=!t.isOpen}else{t.isOpen=false}})}}},t);var s=Object.assign({selectItem:function(e){if(this.items[e]){this.selectedIndex=e}return this},selectNext:function(){return this.selectItem(this.selectedIndex+1)},selectPrevious:function(){return this.selectItem(this.selectedIndex-1)},isItemSelected:function(e){return e===this.items[this.selectedIndex]},isLast:function(){return this.selectedIndex>=this.items.length-1},isFirst:function(){return this.selectedIndex===0}},t);var r={hide:function(){this.el.style.display="none";return this},show:function(){this.el.style.display="inline-block";return this}};var c=e(n,["isOpen"]);var l=e(s,["selectedIndex"]);function o(){var e=l();Object.defineProperty(e,"items",{value:[]});return e}function a(e,t){var n=Object.create(r,{gallery:{value:t},el:{value:e}});t.addItem(n);t.on("selectedIndex",function(){if(t.isItemSelected(n)){n.show()}else{n.hide()}});return n}function u(e){var t=[];return Object.create(i,{items:{value:t},el:{value:e}})}function d(e,t,n){var i=t.parentNode.firstChild===t;var s=c();Object.defineProperty(s,"accordion",{value:e});Object.defineProperty(s,"toggleEl",{value:t});Object.defineProperty(s,"tabEl",{value:n});s.on("isOpen",function(){t.setAttribute("aria-selected",s.isOpen);t.setAttribute("tabindex",s.isOpen?0:-1);n.style.display=s.isOpen?"flex":"none"});s.isOpen=i;return s}var f=u();var h=[].slice.call(document.querySelectorAll("li[role=tab]"));var v=h.map(function(e){var t=document.querySelector("[aria-labelledby="+e.id+"]");return d(f,e,t)});v.forEach(function(e){f.addItem(e);e.toggleEl.addEventListener("click",e.toggle.bind(e))});var b=o();var m=[].slice.call(document.querySelectorAll(".gallery-items-list li"));m.forEach(function(e){a(e,b)});[].slice.call(document.querySelectorAll(".handle > button")).forEach(function(e,t){if(t===0){e.addEventListener("click",b.selectPrevious.bind(b));b.on("selectedIndex",function(){e.disabled=b.isFirst()})}else{e.addEventListener("click",b.selectNext.bind(b));b.on("selectedIndex",function(){e.disabled=b.isLast()})}});b.selectItem(0)})(window);